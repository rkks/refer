/******************************************************************************
 ******************************************************************************
 * Copyright (c) 2007 MatchPoint, All rights reserved
 *
 * File    :    ListeningSocket.h
 * Desc    :    
 * Author  :    nico
 *****************************************************************************/

#ifndef __LISTENING_SOCKET_H__
# define __LISTENING_SOCKET_H__

/*****************************************************************************/
/* Default namespace                                                         */
/*****************************************************************************/
# include "DefaultNamespace.h"
DNSPACE_OPEN
/*****************************************************************************/
/* Class forwarding                                                          */
/*****************************************************************************/
class Socket;
/*****************************************************************************/
/* Types Definition                                                          */
/*****************************************************************************/
class ListeningSocket
{
  /***************************************************************************/
  /* Methods                                                                 */
  /***************************************************************************/
protected:
                    ListeningSocket(unsigned short port) /* Must use the factory to create it */
                    {
                      m_port = port;
                    }
public:
  virtual          ~ListeningSocket(void) {};
  virtual Socket*   CheckForANewClient(void) = 0; /* Non blocking call */
protected:
  unsigned short    getPort(void) {return m_port;};
  /***************************************************************************/
  /* Properties                                                              */
  /***************************************************************************/
private:
  unsigned short  m_port;
};
/*****************************************************************************/
/* Default namespace close                                                   */
/*****************************************************************************/
DNSPACE_CLOSE

#endif /* __LISTENING_SOCKET_H__*/
