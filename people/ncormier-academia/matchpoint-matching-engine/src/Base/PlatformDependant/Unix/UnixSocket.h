/******************************************************************************
 ******************************************************************************
 * Copyright (c) 2007 MatchPoint, All rights reserved
 *
 * File    :    UnixSocket.h
 * Desc    :    Socket declaration for unix
 * Author  :    nico
 *****************************************************************************/

#ifndef __UNIX_SOCKET_H__
# define __UNIX_SOCKET_H__

/*****************************************************************************/
/* Header files                                                              */
/*****************************************************************************/
# include "Socket.h"
/*****************************************************************************/
/* Default namespace                                                         */
/*****************************************************************************/
# include "DefaultNamespace.h"
DNSPACE_OPEN
/*****************************************************************************/
/* Types Definition                                                          */
/*****************************************************************************/
class UnixSocket : public Socket
{
  /***************************************************************************/
  /* Methods                                                                 */
  /***************************************************************************/
public:
              UnixSocket(int socket);
  virtual    ~UnixSocket(void);
protected:
  void        systemRead(char* buf, unsigned nbrBytes, unsigned& readBytes); /* Non blocking call */
  void        systemWrite(const char* buf, unsigned nbrBytes, unsigned& writtenBytes); /* Non blocking call */

  /***************************************************************************/
  /* Properties                                                              */
  /***************************************************************************/
private:
  int   m_socket;
};
/*****************************************************************************/
/* Default namespace close                                                   */
/*****************************************************************************/
DNSPACE_CLOSE


#endif /* __UNIX_SOCKET_H__ */
