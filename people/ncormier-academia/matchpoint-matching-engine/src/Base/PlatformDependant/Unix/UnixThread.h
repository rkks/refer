/******************************************************************************
 ******************************************************************************
 * Copyright (c) 2007 MatchPoint, All rights reserved
 *
 * File    :    UnixThread.h
 * Desc    :    Thread declaration for unix
 * Author  :    nico
 ******************************************************************************/

#ifndef __UNIX_THREAD_H__
# define __UNIX_THREAD_H__

/*****************************************************************************/
/* Header files                                                              */
/*****************************************************************************/
# include <pthread.h>
# include "Thread.h"
/*****************************************************************************/
/* Default namespace                                                         */
/*****************************************************************************/
# include "DefaultNamespace.h"
DNSPACE_OPEN
/*****************************************************************************/
/* Forward definitions                                                       */
/*****************************************************************************/
class Lock;
/*****************************************************************************/
/* Types Definition                                                          */
/*****************************************************************************/
class UnixThread : public Thread
{
  /***************************************************************************/
  /* Methods                                                                 */
  /***************************************************************************/
public:
                UnixThread(fThreadStartRoutine entryPoint, void* pvData);
  virtual      ~UnixThread(void);
  void          Start(void);
  void          Suspend(void);
  void          Resume(void);
  void          Terminate(void);
private:
  static void*  creationRoutine(UnixThread* self);
  /***************************************************************************/
  /* Properties                                                              */
  /***************************************************************************/
private:
  pthread_t             m_thread;
  Lock*                 m_lock;
};
/*****************************************************************************/
/* Default namespace close                                                   */
/*****************************************************************************/
DNSPACE_CLOSE

#endif /* __UNIX_THREAD_H__ */
